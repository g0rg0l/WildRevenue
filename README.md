# Untitled (пока что)

## Вкратце о проекте
Данная игра находится в процессе разработки. Будут реализованы некоторые механики, о каждой из которых будет мини-топик, где я расскажу о том, какие технологии и механизмы использовались в работе.

## Карта
![map_preview](https://github.com/g0rg0l/Untitled/blob/master/git_previews/map_preview.png)
Следующий формат карты поддерживает мультислойность, а также лёгкое поддержание классов для тайлов, с которыми будет запрещена коллизия.
#### Инициализация
Карта представляет собой плитку тайлов 128x128. Ресурсы для карты (тайлсеты .tsx и сама карта .tmx - XML) были созданы инструментом для редактирования карт - Tiled. Затем я реализовал небольшой парсер, который загружает данные из этих файлов в программу.

#### Отрисовка
Карта совмещает несколько нововведений:

   Во-первых, общаясь с камерой игрока, на каждом кадре происходит обрезание карты до тех границ, которые видит игрок. Таким образом не отрисовывается то, что игрок не видит.       
  
  
   Во-вторых, поскольку SFML начинает тормозить из-за большого числа вызовов функции **sf::RenderWindow::draw(sf::Drawable)**, даже если отрисовываемый объект представляет собой атомарный примитив, было решено использовать пакетирование тайлов. Вся плитка видимых тайлов разбивается на вертексы, которые загружаются в массив, который отрисовывается одним вызовом **draw**. Предварительно, нужно указать текстурные координаты для каждого примитива.
